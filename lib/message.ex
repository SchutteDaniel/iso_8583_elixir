defmodule Message do
  @enforce_keys [:"0", :"7", :"12"]

  defstruct "0": nil,
            "1": nil,
            "2": nil,
            "3": nil,
            "4": nil,
            "5": nil,
            "6": nil,
            "7": nil,
            "8": nil,
            "9": nil,
            "10": nil,
            "11": nil,
            "12": nil,
            "13": nil,
            "14": nil,
            "15": nil,
            "16": nil,
            "17": nil,
            "18": nil,
            "19": nil,
            "20": nil,
            "21": nil,
            "22": nil,
            "23": nil,
            "24": nil,
            "25": nil,
            "26": nil,
            "27": nil,
            "28": nil,
            "29": nil,
            "30": nil,
            "31": nil,
            "32": nil,
            "33": nil,
            "34": nil,
            "35": nil,
            "36": nil,
            "37": nil,
            "38": nil,
            "39": nil,
            "40": nil,
            "41": nil,
            "42": nil,
            "43": nil,
            "44": nil,
            "45": nil,
            "46": nil,
            "47": nil,
            "48": nil,
            "49": nil,
            "50": nil,
            "51": nil,
            "52": nil,
            "53": nil,
            "54": nil,
            "55": nil,
            "56": nil,
            "57": nil,
            "58": nil,
            "59": nil,
            "60": nil,
            "61": nil,
            "62": nil,
            "63": nil,
            "64": nil,
            "65": nil,
            "66": nil,
            "67": nil,
            "68": nil,
            "69": nil,
            "70": nil,
            "71": nil,
            "72": nil,
            "73": nil,
            "74": nil,
            "75": nil,
            "76": nil,
            "77": nil,
            "78": nil,
            "79": nil,
            "80": nil,
            "81": nil,
            "82": nil,
            "83": nil,
            "84": nil,
            "85": nil,
            "86": nil,
            "87": nil,
            "88": nil,
            "89": nil,
            "90": nil,
            "91": nil,
            "92": nil,
            "93": nil,
            "94": nil,
            "95": nil,
            "96": nil,
            "97": nil,
            "98": nil,
            "99": nil,
            "100": nil,
            "101": nil,
            "102": nil,
            "103": nil,
            "104": nil,
            "105": nil,
            "106": nil,
            "107": nil,
            "108": nil,
            "109": nil,
            "110": nil,
            "111": nil,
            "112": nil,
            "113": nil,
            "114": nil,
            "115": nil,
            "116": nil,
            "117": nil,
            "118": nil,
            "119": nil,
            "120": nil,
            "121": nil,
            "122": nil,
            "123": nil,
            "124": nil,
            "125": nil,
            "126": nil,
            "127": nil,
            "128": nil,
            "127.1": nil,
            "127.2": nil,
            "127.3": nil,
            "127.4": nil,
            "127.5": nil,
            "127.6": nil,
            "127.7": nil,
            "127.8": nil,
            "127.9": nil,
            "127.10": nil,
            "127.11": nil,
            "127.12": nil,
            "127.13": nil,
            "127.14": nil,
            "127.15": nil,
            "127.16": nil,
            "127.17": nil,
            "127.18": nil,
            "127.19": nil,
            "127.20": nil,
            "127.21": nil,
            "127.22": nil,
            "127.23": nil,
            "127.24": nil,
            "127.25": nil,
            "127.25.1": nil,
            "127.25.2": nil,
            "127.25.3": nil,
            "127.25.4": nil,
            "127.25.5": nil,
            "127.25.6": nil,
            "127.25.7": nil,
            "127.25.8": nil,
            "127.25.9": nil,
            "127.25.10": nil,
            "127.25.11": nil,
            "127.25.12": nil,
            "127.25.13": nil,
            "127.25.14": nil,
            "127.25.15": nil,
            "127.25.16": nil,
            "127.25.17": nil,
            "127.25.18": nil,
            "127.25.19": nil,
            "127.25.20": nil,
            "127.25.21": nil,
            "127.25.22": nil,
            "127.25.23": nil,
            "127.25.24": nil,
            "127.25.25": nil,
            "127.25.26": nil,
            "127.25.27": nil,
            "127.25.28": nil,
            "127.25.29": nil,
            "127.25.30": nil,
            "127.25.31": nil,
            "127.25.32": nil,
            "127.25.33": nil,
            "127.26": nil,
            "127.27": nil,
            "127.28": nil,
            "127.29": nil,
            "127.30": nil,
            "127.31": nil,
            "127.32": nil,
            "127.33": nil,
            "127.34": nil,
            "127.35": nil,
            "127.36": nil,
            "127.37": nil,
            "127.38": nil,
            "127.39": nil

  def new(new_message) do
    struct!(Message, new_message)
  end

  def clean(new_message) do
    struct!(Message, new_message)
    |> Map.from_struct()
    |> Enum.filter(fn {_, v} -> v != nil end)
    |> Enum.into(%{})
  end
end
